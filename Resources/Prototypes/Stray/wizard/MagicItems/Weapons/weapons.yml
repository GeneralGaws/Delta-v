#Мъёлнир

- type: entity
  name: Мъёлнир
  parent: SecBreachingHammer
  id: WizardMjoilnir
  description: holy fuck
  components:
  - type: Sprite
    sprite: Stray/wizard/Objects/Weapons/mjoilnir.rsi
    state: icon
  - type: MeleeWeapon
    attackRate: 0.75
    range: 1.70
    damage:
      types:
        Blunt: 15
        Piercing: 3
        Structural: 10
        Heat: 10
    soundHit:
      path: /Audio/Effects/Lightning/lightningshock.ogg
    bluntStaminaDamageFactor: 1.50 # 15 stamina damage
  - type: IncreaseDamageOnWield
    damage:
      types:
        Blunt: 10
        Piercing: 2
        Structural: 25
  - type: MeleeThrowOnHit
    unanchorOnHit: false
    enabled: true
  - type: Clothing
    sprite: Stray/wizard/Objects/Weapons/mjoilnir.rsi
    quickEquip: false
    slots:
    - back
  - type: PointLight
    radius: 2.0
    energy: 5.0
    color: "#ffffaa"
    castShadows: false

#рунный меч

- type: entity
  id: RuneBlade
  name: Рунный меч
  description: Магический камень на рукоятке. Выпускает магические снаряды. Очень хрупкий
  parent: BaseItem
  components:
  - type: Item
    size: Huge
  - type: Sprite
    sprite: Stray/wizard/Objects/Weapons/spellblade.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-unshaded-4
      map: ["enum.GunVisualLayers.MagUnshaded"]
      shader: unshaded
  - type: Clothing
    sprite: Stray/wizard/Objects/Weapons/spellblade.rsi
    quickEquip: false
    slots:
    - Back
    - suitStorage
  - type: AmmoCounter
  - type: Gun
    useKey: false
    fireRate: 2
    selectedMode: SemiAuto
    availableModes:
    - SemiAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/taser.ogg
  - type: Battery
    maxCharge: 800
    startingCharge: 800
  - type: Appearance
  - type: StaticPrice
    price: 500
  - type: ProjectileBatteryAmmoProvider
    proto: ProjectileArcaneBolt
    fireCost: 200
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 20
  - type: MagazineVisuals
    magState: mag
    steps: 4
    zeroVisible: false
  - type: Reflect
    enabled: true
    reflectProb: 0.5
    spread: 90
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Glass
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 5
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
          params:
            volume: 4
      - !type:SpawnEntitiesBehavior
        spawn:
          Telecrystal:
            min: 1
            max: 3
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: DamageOnLand
    ignoreResistances: true
    damage:
      types:
        Blunt: 5
  - type: DamageOtherOnHit
    damage:
      types:
        Blunt: 5

# громовой лук

- type: entity
  name: громовой лук
  parent: BaseBow
  id: LightningBow
  components:
  - type: Sprite
    sprite: Stray/wizard/Objects/Weapons/lightningbow.rsi
    layers:
    - state: unwielded
      map: [ base ]
    - state: unwielded-arrow
      map: [ arrow ]
      visible: false
    - state: unwielded-plunger
      map: [ plunger ]
      visible: false
    - state: unwielded-lightningarrow
      map: [ lightningarrow ]
      visible: false
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.WieldableVisuals.Wielded:
        arrow:
          True: { state: wielded-arrow }
          False: { state: unwielded-arrow }
        lightningarrow:
          True: { state: wielded-lightningarrow }
          False: { state: unwielded-lightningarrow }
        plunger:
          True: { state: wielded-plunger }
          False: { state: unwielded-plunger }
        base:
          True: { state: wielded }
          False: { state: unwielded }
  - type: ItemSlots
    slots:
      projectiles:
        name: Projectiles
        startingItem: null
        insertSound: /Audio/Weapons/Guns/Misc/arrow_nock.ogg
        whitelist:
          tags:
          - Arrow
          - Plunger
          - LightningArrow
  - type: ItemMapper
    spriteLayers:
    - lightningarrow
    - arrow
    - plunger
    mapLayers:
      lightningarrow:
        whitelist:
          tags:
          - LightningArrow
      arrow:
        whitelist:
          tags:
          - Arrow
      plunger:
        whitelist:
          tags:
          - Plunger
  - type: PointLight
    radius: 2.0
    energy: 5.0
    color: "#ffd700"
    castShadows: false

# Колчан

- type: entity
  parent: ClothingBeltQuiver
  id: LightingQuilver
  name: громовой колчан
  components:
  - type: Sprite
    sprite: Clothing/Belt/quiver.rsi
  - type: Storage
    grid:
    - 0,0,7,3
    maxItemSize: Small
    whitelist:
      tags:
      - Arrow
      - LightingArrow
